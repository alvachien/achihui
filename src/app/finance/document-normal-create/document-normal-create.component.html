<mat-card>
  <mat-card-header>
    <mat-card-title>{{'Finance.Document' | translate}}</mat-card-title>
    <mat-card-subtitle>{{'Common.Create' | translate}}</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <mat-vertical-stepper linear (selectionChange)="onStepSelectionChange($event)" #stepper>
      <!-- Step 1: Generic info -->
      <mat-step [stepControl]="firstFormGroup">
        <form [formGroup]="firstFormGroup">
          <ng-template matStepLabel>{{'Common.GenericInfo' | translate}}</ng-template>

          <hih-fin-document-header [docType]="curDocType"  formControlName="headerControl"></hih-fin-document-header>
        </form>
        
        <div>
          <button mat-button matStepperNext>{{'Common.NextButton' | translate}}</button>
        </div>
      </mat-step>

      <!-- Step 2: Items -->
      <mat-step [stepControl]="itemFormGroup">
        <ng-template matStepLabel>{{'Finance.Items' | translate}}</ng-template>

        <form [formGroup]="itemFormGroup">
          <hih-fin-document-items formControlName="itemControl" [tranCurr]="confirmInfo?.tranCurrency"></hih-fin-document-items>
        </form>

        <div>
          <button mat-button matStepperPrevious>{{'Common.PreviousButton' | translate}}</button>
          <button mat-button matStepperNext>{{'Common.NextButton' | translate}}</button>
        </div>
      </mat-step>

      <!-- Step 3: Confirm -->
      <mat-step>
        <ng-template matStepLabel>{{'Common.Confirm' | translate}}</ng-template>
        <div class="mat-typography achih-control-full-width">
          <h3>{{'Common.Date' | translate}}: {{confirmInfo?.tranDateString}}</h3>
          <h2>{{'Common.Description' |translate}}: {{confirmInfo?.tranDesp}}</h2>
          <h2>{{'Finance.Incoming' | translate}}: {{confirmInfo?.inAmount}} {{confirmInfo?.tranCurrency}}</h2>
          <h2>{{'Finance.Outgoing' | translate}}: {{confirmInfo?.outAmount}} {{confirmInfo?.tranCurrency}}</h2>
        </div>

        <div>
          <button mat-button matStepperPrevious>{{'Common.PreviousButton' | translate}}</button>
          <button mat-button (click)="onReset()">{{'Common.Reset' | translate}}</button>
          <button mat-button (click)="onSubmit()">{{'Common.Submit' | translate}}</button>
        </div>
      </mat-step>
    </mat-vertical-stepper>
  </mat-card-content>
</mat-card>
