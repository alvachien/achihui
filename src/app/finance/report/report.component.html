<mat-card>
  <mat-card-header>
    <mat-card-title>{{'Finance.Reports' | translate}}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-tab-group>
      <mat-tab>
        <ng-template mat-tab-label>
          {{'Finance.BalanceSheetReport' | translate}}
        </ng-template>

        <div class="container">
          <div class="row">
            <div class="col-12 col-md-6">
              <mat-card>
                <mat-card-header>
                  <mat-card-title>{{'Finance.Debit' | translate}}</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <ngx-charts-advanced-pie-chart [scheme]="colorScheme" [results]="dataBSAccountDebit" (select)="onBSAccountDebitSelect($event)">
                  </ngx-charts-advanced-pie-chart>
                </mat-card-content>
              </mat-card>
            </div>
            <div class="col-12 col-md-6">
              <mat-card>
                <mat-card-header>
                  <mat-card-title>{{'Finance.Credit' | translate}}</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <ngx-charts-advanced-pie-chart [scheme]="colorScheme" [results]="dataBSAccountCredit" (select)="onBSAccountCreditSelect($event)">
                  </ngx-charts-advanced-pie-chart>
                </mat-card-content>
              </mat-card>
            </div>
          </div>
          <div class="row">
            <div class="col-12 col-md-6">
              <mat-card>
                <mat-card-header>
                  <mat-card-title>{{'Finance.Debit' | translate}}</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <ngx-charts-advanced-pie-chart [scheme]="colorScheme" [results]="dataBSCategoryDebit" (select)="onBSCategoryDebitSelect($event)">
                  </ngx-charts-advanced-pie-chart>
                </mat-card-content>
              </mat-card>
            </div>
            <div class="col-12 col-md-6">
              <mat-card>
                <mat-card-header>
                  <mat-card-title>{{'Finance.Credit' | translate}}</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <ngx-charts-advanced-pie-chart [scheme]="colorScheme" [results]="dataBSCategoryCredit" (select)="onBSCategoryCreditSelect($event)">
                  </ngx-charts-advanced-pie-chart>
                </mat-card-content>
              </mat-card>
            </div>
          </div>
        </div>
        <hr />

        <div class="table-container mat-elevation-z8">
          <mat-table #tableBS [dataSource]="dataSourceBS">
            <!-- Account column -->
            <ng-container matColumnDef="Account">
              <mat-header-cell *matHeaderCellDef>{{'Finance.Account' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                <mat-form-field>
                  <mat-select disabled [(ngModel)]="row.AccountId" name="acnt">
                    <mat-option *ngFor="let acnt of _storageService.Accounts" [value]="acnt.Id">
                      {{acnt.Name}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-cell>
            </ng-container>

            <!-- Category Column -->
            <ng-container matColumnDef="Category">
              <mat-header-cell *matHeaderCellDef>{{'Common.Category' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                <mat-form-field>
                  <mat-select disabled [(ngModel)]="row.AccountCategoryId" name="ctgy">
                    <mat-option *ngFor="let ctgy of _storageService.AccountCategories" [value]="ctgy.ID">
                      {{ctgy.Name | translate}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-cell>
            </ng-container>

            <!-- Debit Balance Column -->
            <ng-container matColumnDef="Debit">
              <mat-header-cell *matHeaderCellDef>{{'Finance.Debit' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.DebitBalance?.toFixed(2) }}
              </mat-cell>
            </ng-container>

            <!-- Desp Column -->
            <ng-container matColumnDef="Credit">
              <mat-header-cell *matHeaderCellDef>{{'Finance.Credit' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.CreditBalance?.toFixed(2) }}
              </mat-cell>
            </ng-container>

            <!-- Balance Column -->
            <ng-container matColumnDef="Balance">
              <mat-header-cell *matHeaderCellDef>{{'Finance.Balance' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.Balance?.toFixed(2) }}
              </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedBSColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedBSColumns;"></mat-row>
          </mat-table>
          <mat-paginator #paginatorBS [length]="ReportBS.length" [pageIndex]="0" [pageSize]="25" [pageSizeOptions]="[5, 10, 25, 100]">
          </mat-paginator>
        </div>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          {{'Finance.ControlCenterReport' | translate}}
        </ng-template>

        <div class="container">
          <div class="row">
            <div class="col-12 col-md-6">
              <mat-card>
                <mat-card-header>
                  <mat-card-title>{{'Finance.Debit' | translate}}</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <ngx-charts-advanced-pie-chart [scheme]="colorScheme" [results]="dataCCDebit" (select)="onCCDebitSelect($event)">
                  </ngx-charts-advanced-pie-chart>
                </mat-card-content>
              </mat-card>
            </div>
            <div class="col-12 col-md-6">
              <mat-card>
                <mat-card-header>
                  <mat-card-title>{{'Finance.Credit' | translate}}</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <ngx-charts-advanced-pie-chart [scheme]="colorScheme" [results]="dataCCCredit" (select)="onCCCreditSelect($event)">
                  </ngx-charts-advanced-pie-chart>
                </mat-card-content>
              </mat-card>
            </div>
          </div>
        </div>
        <hr />

        <div class="table-container mat-elevation-z8">
          <mat-table #tableCC [dataSource]="dataSourceCC">
            <!-- Control Center column -->
            <ng-container matColumnDef="ControlCenter">
              <mat-header-cell *matHeaderCellDef>{{'Finance.ControlCenter' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                <mat-form-field>
                  <mat-select disabled [(ngModel)]="row.ControlCenterId" name="acnt">
                    <mat-option *ngFor="let cc of _storageService.ControlCenters" [value]="cc.Id">
                      {{cc.Name}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-cell>
            </ng-container>

            <!-- Debit Balance Column -->
            <ng-container matColumnDef="Debit">
              <mat-header-cell *matHeaderCellDef>{{'Finance.Debit' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.DebitBalance?.toFixed(2) }}
              </mat-cell>
            </ng-container>

            <!-- Desp Column -->
            <ng-container matColumnDef="Credit">
              <mat-header-cell *matHeaderCellDef>{{'Finance.Credit' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.CreditBalance?.toFixed(2) }}
              </mat-cell>
            </ng-container>

            <!-- Balance Column -->
            <ng-container matColumnDef="Balance">
              <mat-header-cell *matHeaderCellDef>{{'Finance.Balance' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.Balance?.toFixed(2) }}
              </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedCCColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedCCColumns;"></mat-row>
          </mat-table>
          <mat-paginator #paginatorCC [length]="ReportCC.length" [pageIndex]="0" [pageSize]="25" [pageSizeOptions]="[5, 10, 25, 100]">
          </mat-paginator>
        </div>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          {{'Finance.OrderReport' | translate}}
        </ng-template>

        <div class="container">
          <div class="row">
            <div class="col-12 col-md-6">
              <mat-card>
                <mat-card-header>
                  <mat-card-title>{{'Finance.Debit' | translate}}</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <ngx-charts-advanced-pie-chart [scheme]="colorScheme" [results]="dataOrderDebit" (select)="onOrderDebitSelect($event)">
                  </ngx-charts-advanced-pie-chart>
                </mat-card-content>
              </mat-card>
            </div>
            <div class="col-12 col-md-6">
              <mat-card>
                <mat-card-header>
                  <mat-card-title>{{'Finance.Credit' | translate}}</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <ngx-charts-advanced-pie-chart [scheme]="colorScheme" [results]="dataOrderCredit" (select)="onOrderCreditSelect($event)">
                  </ngx-charts-advanced-pie-chart>
                </mat-card-content>
              </mat-card>
            </div>
          </div>
        </div>
        <hr />

        <div class="table-container mat-elevation-z8">
          <mat-table #tableOrder [dataSource]="dataSourceOrder">
            <!-- Order column -->
            <ng-container matColumnDef="Order">
              <mat-header-cell *matHeaderCellDef>{{'Finance.Order' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                <mat-form-field>
                  <mat-select disabled [(ngModel)]="row.OrderId" name="acnt">
                    <mat-option *ngFor="let ord of _storageService.Orders" [value]="ord.Id">
                      {{ord.Name}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-cell>
            </ng-container>

            <!-- Debit Balance Column -->
            <ng-container matColumnDef="Debit">
              <mat-header-cell *matHeaderCellDef>{{'Finance.Debit' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.DebitBalance?.toFixed(2) }}
              </mat-cell>
            </ng-container>

            <!-- Desp Column -->
            <ng-container matColumnDef="Credit">
              <mat-header-cell *matHeaderCellDef>{{'Finance.Credit' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.CreditBalance?.toFixed(2) }}
              </mat-cell>
            </ng-container>

            <!-- Balance Column -->
            <ng-container matColumnDef="Balance">
              <mat-header-cell *matHeaderCellDef>{{'Finance.Balance' | translate}}</mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.Balance?.toFixed(2) }}
              </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedOrderColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedOrderColumns;"></mat-row>
          </mat-table>
          <mat-paginator #paginatorOrder [length]="ReportOrder.length" [pageIndex]="0" [pageSize]="25" [pageSizeOptions]="[5, 10, 25, 100]">
          </mat-paginator>
        </div>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
