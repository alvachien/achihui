<nz-spin [nzSpinning]="isLoadingResults" [nzSize]="'large'" nzTip="Loading...">
  <nz-page-header nzBackIcon>
    <nz-breadcrumb nz-page-header-breadcrumb>
      <nz-breadcrumb-item>{{ 'Nav.LibraryTrace' | transloco }}</nz-breadcrumb-item>
    </nz-breadcrumb>
    <nz-page-header-title>{{ 'Library.Books' | transloco }}</nz-page-header-title>
    <nz-page-header-subtitle>{{ 'Common.ListView' | transloco }}</nz-page-header-subtitle>
    <nz-page-header-extra>
      <a nz-button nzType="link" routerLink="/library/book/create">{{ 'Common.Create' | transloco }}</a>
    </nz-page-header-extra>
  </nz-page-header>
  <nz-table
    #basicTable
    nzShowSizeChanger
    [nzData]="listData"
    [nzFrontPagination]="false"
    [nzTotal]="totalCount"
    [nzPageSize]="pageSize"
    [nzPageIndex]="pageIndex"
    (nzQueryParams)="onQueryParamsChange($event)"
  >
    <thead>
      <tr>
        <th>ID</th>
        <th>{{ 'Common.NativeName' | transloco }}</th>
        <th>{{ 'Common.ChineseName' | transloco }}</th>
      </tr>
    </thead>
    <tbody>
      @for(data of basicTable.data; track $index) {
        <tr>
          <td>
            {{ data.ID }}
            <nz-divider nzType="vertical"></nz-divider>
            <button nz-button nzType="link" (click)="onDisplay(data.ID)">
              {{ 'Common.Display' | transloco }}
            </button>
            <button nz-button nzType="link" (click)="onDelete(data.ID)" nzDanger>
              {{ 'Common.Delete' | transloco }}
            </button>
            <button nz-button nzType="link" (click)="onCreateBorrowRecord(data.ID)">
              {{ 'Library.CreateBorrowRecord' | transloco }}
            </button>
          </td>
          <td>{{ data.NativeName }}</td>
          <td>{{ data.ChineseName }}</td>
        </tr>  
      }
    </tbody>
  </nz-table>
</nz-spin>
