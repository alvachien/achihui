<md-card>
  <md-card-title>Advance payment</md-card-title>
  <md-card-subtitle>{{currentMode}}</md-card-subtitle>
  <md-divider></md-divider>
  <md-card-content>
    <div layout="column" layout-padding>
      <div layout="row" layout-margin>
        <md-input-container flex>
          <input mdInput placeholder="ID" readonly [(ngModel)]="docObject.Id" name="id" #id="ngModel">
        </md-input-container>
      </div>
      <div layout="row" layout-margin>
        <md-input-container flex>
          <input mdInput type="date" placeholder="Transaction Date" required [(ngModel)]="docObject.TranDateString" name="trandate"
              #trandate="ngModel">
        </md-input-container>
      </div>
      <div layout="row" layout-margin>
        <md-input-container flex>
          <input mdInput type="number" placeholder="Transaction amount" required [(ngModel)]="uiObject.TranAmount" name="itemtranamt"
              #itemtranamt="ngModel">
        </md-input-container>
      </div>
      <div layout="row" layout-margin>
        <md-select flex="90" placeholder="Currency" [(ngModel)]="docObject.TranCurr" name="trancurr" #trancurr="ngModel">
          <md-option *ngFor="let cur of arCurrency" [value]="cur.Currency">
              {{cur.Symbol}} - {{cur.Name}}
          </md-option>
        </md-select>
      </div>
      <div layout="row" layout-margin>
          <md-input-container flex>
            <textarea mdInput placeholder="Description" [(ngModel)]="docObject.Desp" name="desp" #desp="ngModel"></textarea>
          </md-input-container>
      </div>
      <div layout="row" layout-margin>
        <md-select flex="90" placeholder="Control center" [(ngModel)]="uiObject.ControlCenterId" name="srccc" #srccc="ngModel">
          <md-option *ngFor="let cc of arControlCenter" [value]="cc.Id">
            {{cc.Name}}
          </md-option>
        </md-select>
      </div>
      <div layout="row" layout-margin>
        <md-select flex="90" placeholder="Order" [(ngModel)]="uiObject.OrderId" name="srcorder" #srcorder="ngModel">
          <md-option *ngFor="let ord of arOrder" [value]="ord.Id">
            {{ord.Name}}
          </md-option>
        </md-select>
      </div>
      <div layout="row" layout-padding>
        <md-tab-group flex>
          <md-tab>
            <template md-tab-label>
              <em>Detail</em> Info
            </template>
            <div layout="column" layout-padding>
                <div layout="row" layout-margin>
                  <md-slide-toggle [(ngModel)]="uiObject.AdvPayAccount.Direct" name="dir">Direct</md-slide-toggle>
                </div>
                <div layout="row" layout-margin>
                  <md-input-container flex>
                    <input mdInput type="date" placeholder="Start" required [(ngModel)]="uiObject.AdvPayAccount.StartDateString" name="startdate" #startdate="ngModel">
                  </md-input-container>
                </div>
                <div layout="row" layout-margin>
                  <md-input-container flex>
                    <input mdInput type="date" placeholder="End" required [(ngModel)]="uiObject.AdvPayAccount.EndDateString" name="enddate" #enddate="ngModel">
                  </md-input-container>
                </div>
                <div layout="row" layout-margin>
                  <md-select placeholder="Repeat frequency" [(ngModel)]="uiObject.AdvPayAccount.RepeatType" name="rpttype" flex>
                    <md-option *ngFor="let rt of arRepeatFrequency" [value]="rt.Id">
                      {{rt.DisplayString}}
                    </md-option>
                  </md-select>
                </div>
                <div layout="row" layout-margin>
                  <md-input-container flex>
                    <input mdInput type="number" placeholder="Deferred days" [(ngModel)]="uiObject.AdvPayAccount.DeferredDays" name="dfrrdays" #dfrrdays="ngModel">
                  </md-input-container>
                </div>
                <div layout="row" layout-margin>
                  <md-input-container flex>
                    <input mdInput type="text" placeholder="Comment" [(ngModel)]="uiObject.AdvPayAccount.Comment" name="advacntcmt" #advacntcmt="ngModel">
                  </md-input-container>
                </div>
                <div layout="row" layout-padding>
                  <button md-button color="accent" (click)="onSync()">Sync</button>
                </div>       
              </div>
          </md-tab>
          <md-tab>
            <template md-tab-label>
              <md-icon>list</md-icon>Template Docs
            </template>
            <td-data-table [data]="tmpDocs" [columns]="clnTmpDocs" [selectable]="true"
              [(ngModel)]="selectedTmpDocs">
            </td-data-table>
          </md-tab>
        </md-tab-group>
      </div>
      <div layout="row" layout-padding>
        <button md-button color="accent" (click)="onSubmit()">Submit</button>
        <button md-button>Cancel</button>
      </div>       
    </div>
  </md-card-content>
</md-card>
