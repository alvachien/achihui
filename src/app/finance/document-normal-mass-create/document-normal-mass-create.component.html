<mat-card>
  <mat-card-header>
    <mat-card-title>
      Mass Create Normal Documents
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-toolbar color="accent">
      <button mat-button (click)="addItem()">New item</button>
    </mat-toolbar>

    <form [formGroup]="myForm">
      <!-- items -->
      <div formArrayName="items">
        <div *ngFor="let item of myForm.controls.items.controls; let i=index">
          <mat-card>
            <mat-card-header>
              <mat-card-title>Item {{i + 1}}</mat-card-title>
              <mat-card-subtitle>
                <div *ngIf="myForm.controls.items.controls.length > 1" (click)="removeItem(i)">
                  Remove
                </div>
              </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <div [formGroupName]="i">
                <hih-document-normal-mass-create-item [group]="myForm.controls.items.controls[i]">
                </hih-document-normal-mass-create-item>
              </div>
            </mat-card-content>
          </mat-card>
          <mat-divider [inset]="true"></mat-divider>
        </div>
      </div>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button type="submit" [disabled]="!myForm.valid">Submit</button>
  </mat-card-actions>
</mat-card>
