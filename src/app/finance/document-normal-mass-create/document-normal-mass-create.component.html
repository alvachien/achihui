<mat-card style="width: 96%;">
  <mat-card-header>
    <mat-card-title>
      Mass Create Normal Documents
    </mat-card-title>
  </mat-card-header>
  <mat-card-content style="width: 96%;">
    <mat-toolbar color="accent">
      <button mat-button (click)="addItem()">New item</button>
    </mat-toolbar>

    <form [formGroup]="myForm" style="padding: 1em;">
      <!-- items -->
      <div formArrayName="items" style="width: 96%;">
        <div *ngFor="let item of myForm.controls.items.controls; let i=index">
          <mat-card class="item-card" style="width: 96%;">
            <mat-card-header>
              <mat-card-title>Item {{i + 1}}</mat-card-title>
              <mat-card-subtitle>
                <button mat-button *ngIf="myForm.controls.items.controls.length > 1" (click)="removeItem(i)">
                  Remove
                </button>
              </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content style="width: 96%;">
              <div [formGroupName]="i" style="width: 96%;">
                <hih-document-normal-mass-create-item [group]="myForm.controls.items.controls[i]"
                  [arUIAccount]="arUIAccount"
                  [arUIOrder]="arUIOrder"
                  [arControlCenter]="arControlCenter"
                  [arTranType]="arTranType"
                  [localCurrency]="localCurrency">
                </hih-document-normal-mass-create-item>
              </div>
            </mat-card-content>
          </mat-card>
          <mat-divider [inset]="true"></mat-divider>
        </div>
      </div>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button type="submit" [disabled]="!myForm.valid" (click)="onSubmit()">Submit</button>
  </mat-card-actions>
</mat-card>
