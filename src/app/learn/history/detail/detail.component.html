<form (ngSubmit)="onSubmit()" #detailForm="ngForm">
  <div layout="row" layout-margin>
    <md-select flex placeholder="User" [(ngModel)]="historyObject.UserId" name="userid" #userid="ngModel">
      <md-option *ngFor="let user of arUsers" [value]="user.UserId">{{ user.DisplayAs }}</md-option>
    </md-select>
  </div>
  <div layout="row" layout-margin>
    <md-input-container flex>
      <input type="text" mdInput required placeholder="Object ID" [(ngModel)]="historyObject.ObjectId" [mdAutocomplete]="objid" [formControl]="controlObjectID">
      <md-hint align="start">{{historyObject.ObjectName}}</md-hint>
    </md-input-container>

    <md-autocomplete flex #objid="mdAutocomplete"> <!--[displayWith]="displayFn"-->
      <md-option (change)="onObjectSelectionChanged(lrnobj)"  *ngFor="let lrnobj of filteredObjects | async" [value]="lrnobj.Id">
          {{lrnobj.Id}} - {{lrnobj.Name}}
      </md-option>
    </md-autocomplete>

    <!--<md-input-container flex>
      <input mdInput placeholder="Object ID" required [(ngModel)]="historyObject.ObjectId" name="objid" #objid="ngModel" (change)="onObjectIdChanged()">
      <md-hint align="start">{{historyObject.ObjectName}}</md-hint>
    </md-input-container>-->
  </div>
  <div layout="row" layout-margin>
    <md-input-container flex>
      <input mdInput placeholder="Learn date" type="date" required [(ngModel)]="historyObject.LearnDateString" name="lrndate" #lrndate="ngModel">
    </md-input-container>
  </div>
  <div layout="row" layout-margin>
    <md-input-container flex>
      <input mdInput type="text" placeholder="{{'Common.Comment' | translate}}" [(ngModel)]="historyObject.Comment" name="cmt" #cmt="ngModel">
    </md-input-container>
  </div>
  <div layout="row" layout-margin>
    <button type="submit" md-button [disabled]="!detailForm.form.valid">{{'Common.Submit' | translate}}</button>
    <button type="reset" md-button>{{'Common.Cancel' | translate}}</button>
  </div>
</form>
